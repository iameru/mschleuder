{% extends 'base.html' %}
{% set title = product.name + ' verteilen' %}
{% block content %}
<h2 class="title is-5">{{ product.name }}</h2>
<ul>
  <li>Letzte Verteilung: {{ product.recent_distribution }}</li>
  <li>Aktuell verteilt: {{ product.amount }} {{ product.unit }}</li>
  <li>ID: {{ product.id }}</li>
  <li>unit: {{ product.unit }}</li>
  <li>info: {{ product.info }}</li>
</ul>

<div class="columns is-multiline" id="dist-stations-area">

{% from 'macros.html' import number_input %}
        <div class="column is-12">
        {# INPUT field #}
                {{ number_input(product.amount, label="Input", id="dist-input-field") }}
                <button class="button"
                        onclick="distribute()">Push me to distribute via Javascript</button>

        {# fields to be manipulated #}
                {{ number_input("", label="Kompletto", id="dist-field-1") }}
                {{ number_input("", label="Halbo", id="dist-field-2") }}
        </div>

<script>

function distribute () {
	  input_field = document.getElementById("dist-input-field")
	  input_field_value = parseInt(input_field.value)

	  output_field_one = document.getElementById("dist-field-1")
	  output_field_two = document.getElementById("dist-field-2")

	  output_field_one.value = input_field_value / 3

	  rest = input_field_value - output_field_one.value

	  output_field_two.value = rest
	}
</script>




{% for station in stations %}

<div class="column is-4"
     id="dist-station-{{station.id}}">
<div class="box">

<div class="level">

  <div class="level-left">
    <div class="level-item">{{ station.name }}</div>
  </div>

  <div class="level-right" id="small-info">
    <div class="level-item">üë•{{ station.members_full + station.members_half }}
    ‚óè {{ station.members_full }}
    ‚óë {{station.members_half }}</div>
  </div>

</div>

</div>{# box #}
</div>{# column #}
{% endfor %}

</div>
{% endblock %}
